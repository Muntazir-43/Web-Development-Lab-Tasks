<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Saved Recipes ❤️</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet">
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Quicksand:wght@500&display=swap"
      rel="stylesheet">
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
      rel="stylesheet">
    <link rel="stylesheet" href="/Styles/recipe_style.css">
  </head>
  <body>
    <div class="page-wrapper">

      <!-- Navbar -->
      <nav class="navbar glass-nav py-3">
        <div class="container d-flex justify-content-between">
          <a href="recipe_index.html" class="navbar-brand fw-bold text-primary"><i
              class="fa-solid fa-arrow-left"></i> Back to Finder</a>
          <h4 class="fw-bold text-danger mb-0"><i class="fa-solid fa-heart"></i>
            Saved Recipes</h4>
        </div>
      </nav>

      <!-- Saved Recipes Section -->
      <section class="container my-5">
        <div id="savedMeals" class="row g-4"></div>
      </section>

      <!-- Footer -->
      <footer class="footer glass-nav">
        <p class="mb-0">© 2025 Recipe Finder — Your Saved Recipes</p>
      </footer>

    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
    const container = document.getElementById("savedMeals");
    const saved = JSON.parse(localStorage.getItem("savedMeals")) || [];

    if (saved.length === 0) {
      container.innerHTML = "<p class='text-center text-muted'>No saved recipes yet!</p>";
    } else {
      saved.forEach(meal => {
        container.innerHTML += `
          <div class="col-md-4">
            <div class="card meal-card glass-box h-100">
              <img src="${meal.thumb}" class="card-img-top" alt="${meal.name}">
              <div class="card-body d-flex flex-column">
                <h5 class="card-title">${meal.name}</h5>
                <button class="btn btn-outline-danger mt-auto" onclick="removeMeal('${meal.id}')">
                  <i class="fa-solid fa-trash"></i> Remove
                </button>
              </div>
            </div>
          </div>
        `;
      });
    }

    function removeMeal(id) {
      const updated = saved.filter(m => m.id !== id);
      localStorage.setItem("savedMeals", JSON.stringify(updated));
      location.reload();
    }
  </script>
  </body>
</html>
